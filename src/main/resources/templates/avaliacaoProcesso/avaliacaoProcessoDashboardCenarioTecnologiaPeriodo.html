<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>J4Business</title>

<link href="/saga/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}"	rel="stylesheet"></link>
<link href="/saga/css/styles.css" rel="stylesheet"></link>
<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic'  rel='stylesheet' type='text/css'></link>
<script src="/js/jquery-3.2.1.min.js" th:src="@{/js/jquery-3.2.1.min.js}"></script>
<script src="/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.0/jquery.mask.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<style>
.glyphicon:hover {
	color: black;
}

.detalhe {
	color: #A9D9EC;
}

.edit {
	color: orange;
}

.remove {
	color: red;
}

.form-control {
	color: #B7B7B7;
}

.form-control:hover, .form-control:focus {
	color: #ffffff;
	border-color: #A9D9EC;
}
</style>
</head>

<body>

	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#sidebar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#"><span>Gestão e Aperfeiçoamento de Processos</span></a>
			</div>
		</div>
		<!-- /.container-fluid -->
	</nav>

		<div class="row">
				<div class="form-group col-md-7">	
					<ol class="breadcrumb">
						<li><a href="/saga/index"><span class="glyphicon glyphicon-home"></span></a></li>
						<li class="active">Avaliação - Processo</li>
						<li class="active">Dashboard</li>
						<li class="active" th:text="${avaliacaoProcessoDashboard.getCenarioNome()}"></li>
						<li class="active" th:text="${avaliacaoProcessoForm.getProcessoNome()}"></li>
						<li class="active" th:text="${avaliacaoProcessoForm.getEstruturafisicaNome()}"></li>
						<li class="active" th:text="${avaliacaoProcessoForm.getUnidadeorganizacionalNome()}"></li>
					</ol>
				</div>
				<div class="form-group col-md-3">	
					<ol class="breadcrumb">
						<li class="active">Usuário: </li>
						<li th:text="${usuarioNome}"></li>
						<li th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></li>  
					</ol>
				</div>
				<div class="form-group col-md-2">	
						<a th:href="@{/avaliacaoProcessoDashboardCenario/{avaliacaoProcessoPK}/{questionarioPK}/{processoPK}/{unidadeorganizacionalPK}/{estruturafisicaPK}
						    		(avaliacaoProcessoPK=${avaliacaoProcessoDashboard.getAvaliacaoProcessoPK()},
						    		 questionarioPK=${avaliacaoProcessoDashboard.getQuestionarioPK()},
						    		 processoPK=${avaliacaoProcessoDashboard.getProcessoPK()},
						    		 unidadeorganizacionalPK=${avaliacaoProcessoDashboard.getUnidadeorganizacionalPK()},
						    		 estruturafisicaPK=${avaliacaoProcessoDashboard.getEstruturafisicaPK()}		)}"									    
						 style="float: right" class="btn btn-primary btn-xs margin">Voltar</a>
				</div>
		</div>
		
		<div class="row col-no-gutter-container" th:object="${avaliacaoProcessoDashboard}" style="background-color:lightgray">

			<input type="hidden" name="periodoAtual" id="periodoAtual" th:value="${avaliacaoProcessoDashboard.getAvaliacaoProcessoPeriodoAtual()}"> 
			<input type="hidden" name="periodoAnterior" id="periodoAnterior" th:value="${avaliacaoProcessoDashboard.getAvaliacaoProcessoPeriodoAnterior()}"> 

			<input type="hidden" name="elemento101" id="elemento101" th:value="${avaliacaoProcessoDashboard.getElemento1()}"> 
			<input type="hidden" name="elemento102" id="elemento102" th:value="${avaliacaoProcessoDashboard.getElemento2()}"> 
			<input type="hidden" name="elemento103" id="elemento103" th:value="${avaliacaoProcessoDashboard.getElemento3()}"> 
			<input type="hidden" name="elemento104" id="elemento104" th:value="${avaliacaoProcessoDashboard.getElemento4()}"> 
			<input type="hidden" name="elemento105" id="elemento105" th:value="${avaliacaoProcessoDashboard.getElemento5()}"> 
			<input type="hidden" name="elemento106" id="elemento106" th:value="${avaliacaoProcessoDashboard.getElemento6()}"> 
			<input type="hidden" name="elemento107" id="elemento107" th:value="${avaliacaoProcessoDashboard.getElemento7()}"> 
			<input type="hidden" name="elemento108" id="elemento108" th:value="${avaliacaoProcessoDashboard.getElemento8()}"> 
			<input type="hidden" name="elemento109" id="elemento109" th:value="${avaliacaoProcessoDashboard.getElemento9()}"> 
			<input type="hidden" name="elemento110" id="elemento110" th:value="${avaliacaoProcessoDashboard.getElemento10()}"> 
			<input type="hidden" name="elemento111" id="elemento111" th:value="${avaliacaoProcessoDashboard.getElemento11()}"> 
			<input type="hidden" name="elemento112" id="elemento112" th:value="${avaliacaoProcessoDashboard.getElemento12()}"> 

			<input type="hidden" name="elemento201" id="elemento201" th:value="${avaliacaoProcessoDashboard.getElemento13()}"> 
			<input type="hidden" name="elemento202" id="elemento202" th:value="${avaliacaoProcessoDashboard.getElemento14()}"> 
			<input type="hidden" name="elemento203" id="elemento203" th:value="${avaliacaoProcessoDashboard.getElemento15()}"> 
			<input type="hidden" name="elemento204" id="elemento204" th:value="${avaliacaoProcessoDashboard.getElemento16()}"> 
			<input type="hidden" name="elemento205" id="elemento205" th:value="${avaliacaoProcessoDashboard.getElemento17()}"> 
			<input type="hidden" name="elemento206" id="elemento206" th:value="${avaliacaoProcessoDashboard.getElemento16()}"> 
			<input type="hidden" name="elemento207" id="elemento207" th:value="${avaliacaoProcessoDashboard.getElemento17()}"> 
			<input type="hidden" name="elemento208" id="elemento208" th:value="${avaliacaoProcessoDashboard.getElemento18()}"> 
			<input type="hidden" name="elemento209" id="elemento209" th:value="${avaliacaoProcessoDashboard.getElemento19()}"> 
			<input type="hidden" name="elemento210" id="elemento210" th:value="${avaliacaoProcessoDashboard.getElemento20()}"> 
			<input type="hidden" name="elemento211" id="elemento211" th:value="${avaliacaoProcessoDashboard.getElemento21()}"> 
			<input type="hidden" name="elemento212" id="elemento212" th:value="${avaliacaoProcessoDashboard.getElemento24()}"> 

			<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
				<div class="panel panel-blue panel-widget">
					<div class="row no-padding" style="background-color:rgba(60,102,135)">
						<div class="col-sm-3 col-lg-5 widget-left">
							<em class="glyphicon glyphicon-cog glyphicon-l"></em>
						</div>
						<div class="col-sm-9 col-lg-7 widget-right">
							<div class="large" th:text="${avaliacaoProcessoDashboard.getQuantidadeProcessos()}"></div>
							<div class="text-muted">Processos</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
				<div class="panel panel-orange panel-widget">
					<div class="row no-padding" style="background-color:rgba(60,102,135)">
						<div class="col-sm-3 col-lg-5 widget-left">
							<em class="glyphicon glyphicon-user glyphicon-l"></em>
						</div>
						<div class="col-sm-9 col-lg-7 widget-right">
							<div class="large" th:text="${avaliacaoProcessoDashboard.getQuantidadeColaboradores()}"></div>
							<div class="text-muted">Colaboradores</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
				<div class="panel panel-teal panel-widget">
					<div class="row no-padding" style="background-color:rgba(60,102,135)">
						<div class="col-sm-3 col-lg-5 widget-left">
							<em class="glyphicon glyphicon-list-alt glyphicon-l"></em>
						</div>
						<div class="col-sm-9 col-lg-7 widget-right">
							<div class="large" th:text="${avaliacaoProcessoDashboard.getQuantidadeQuestionarios()}"></div>
							<div class="text-muted">Questionários</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
				<div class="panel panel-red panel-widget">
					<div class="row no-padding" style="background-color:rgba(60,102,135)">
						<div class="col-sm-3 col-lg-5 widget-left">
							<em class="glyphicon glyphicon-question-sign glyphicon-l"></em>
						</div>
						<div class="col-sm-9 col-lg-7 widget-right">
							<div class="large" th:text="${avaliacaoProcessoDashboard.getQuantidadeQuestoes()}"></div>
							<div class="text-muted">Questões</div>
						</div>
					</div>
				</div>
			</div>
		</div><!--/.row-->
		
		<div class="row row-no-gutter col-no-gutter-container row-margin-top">
			<div class="col-md-12 col-no-gutter">
				<div class="panel panel-default">
					<div class="panel-body">
						<div class="canvas-wrapper">
							<canvas class="chart" id="bar-chart"  height="200" width="600"   style="background-color:lightblue"></canvas>
						</div>
					</div>
				</div>
			</div><!--/.col-->
			
		</div><!--/.row-->

	<script>
	
 	var periodoAtual = document.getElementById('periodoAtual').value;
 	var periodoAnterior = document.getElementById('periodoAnterior').value;
	
 	var elemento101 = document.getElementById('elemento101').value;
	var elemento102 = document.getElementById('elemento102').value;
	var elemento103 = document.getElementById('elemento103').value;
	var elemento104 = document.getElementById('elemento104').value;
	var elemento105 = document.getElementById('elemento105').value;
	var elemento106 = document.getElementById('elemento106').value;
	var elemento107 = document.getElementById('elemento107').value;
	var elemento108 = document.getElementById('elemento108').value;
	var elemento109 = document.getElementById('elemento109').value;
	var elemento110 = document.getElementById('elemento110').value;
	var elemento111 = document.getElementById('elemento111').value;
	var elemento112 = document.getElementById('elemento112').value;
	
 	var elemento201 = document.getElementById('elemento201').value;
	var elemento202 = document.getElementById('elemento202').value;
	var elemento203 = document.getElementById('elemento203').value;
	var elemento204 = document.getElementById('elemento204').value;
	var elemento205 = document.getElementById('elemento205').value;
	var elemento206 = document.getElementById('elemento206').value;
	var elemento207 = document.getElementById('elemento207').value;
	var elemento208 = document.getElementById('elemento208').value;
	var elemento209 = document.getElementById('elemento209').value;
	var elemento210 = document.getElementById('elemento210').value;
	var elemento211 = document.getElementById('elemento211').value;
	var elemento212 = document.getElementById('elemento212').value;
	
	var myData = [elemento101,elemento102,elemento103,elemento104,elemento105,elemento106,elemento107,elemento108,elemento109,elemento110,elemento111,elemento112];
	var myDataAnterior = [elemento201,elemento202,elemento203,elemento204,elemento205,elemento206,elemento207,elemento208,elemento209,elemento210,elemento211,elemento212];
	var myColors=[];
	var myColorsAnterior=[];
	var myBorders=[];
	var myBordersAnterior=[];

	$.each(myData, function( index,value ) {
		
		if(value>4){
		  	 myColors[index]="rgba(0, 128, 255,0.5)";
		  }else if(value>3){
			 myColors[index]="rgba(64, 255, 0,0.5)";
		  }else if(value>2){
			 myColors[index]="rgba(255, 210, 77,0.8)";
		  }else if(value>1){
			 myColors[index]="rgba(255, 255, 0,0.5)";
		  }else {
			 myColors[index]="rgba(255, 0, 0,0.5)";
		  }
		
		if(value==5){
		  	 myBorders[index]="rgba(0, 128, 255,1)";
		  }else if(value==4){
			  myBorders[index]="rgba(64, 255, 0,1)";
		  }else if(value==3){
			  myBorders[index]="rgba(255, 210, 77,1)";
		  }else if(value==2){
			  myBorders[index]="rgba(255, 255, 0,1)";
		  }else {
			  myBorders[index]="rgba(255, 0, 0,1)";
		  }
	});

	$.each(myDataAnterior, function( index2,value2 ) {
		
		if(value2>4){
		  	 myColorsAnterior[index2]="rgba(0, 128, 255,0.5)";
		  }else if(value2>3){
			 myColorsAnterior[index2]="rgba(64, 255, 0,0.5)";
		  }else if(value2>2){
			 myColorsAnterior[index2]="rgba(255, 210, 77,0.8)";
		  }else if(value2>1){
			 myColorsAnterior[index2]="rgba(255, 255, 0,0.5)";
		  }else {
			 myColorsAnterior[index2]="rgba(255, 0, 0,0.5)";
		  }
		
		if(value2==5){
		  	 myBordersAnterior[index2]="rgba(0, 128, 255,1)";
		  }else if(value2==4){
			  myBordersAnterior[index2]="rgba(64, 255, 0,1)";
		  }else if(value2==3){
			  myBordersAnterior[index2]="rgba(255, 210, 77,1)";
		  }else if(value2==2){
			  myBordersAnterior[index2]="rgba(255, 255, 0,1)";
		  }else {
			  myBordersAnterior[index2]="rgba(255, 0, 0,1)";
		  }
	});

	var ctx = document.getElementById('bar-chart').getContext('2d');
	var chart = new Chart(ctx, {
	    // The type of chart we want to create
	    type: 'bar',

	    // The data for our dataset
	    data: {
	        labels: ["PC velocidade","PC capacidade","PC Som","Impressora Tipo","Impressora Velocidade ","Monitor Tipo","Monitor Tamanho","Mouse","Tablet velocidade","Tablet Tamanho","Wi Fi Capacidade","Wi Fi velocidade"],
			datasets : [
				{
		        	label: periodoAnterior,
		            backgroundColor: myColorsAnterior,
		            data: myDataAnterior,
		            borderColor: myBordersAnterior,
		            borderWidth: 2
				},
				{
		        	label: periodoAtual,
		            backgroundColor: myColors,
		            data: myData,
		            borderColor: myBorders,
		            borderWidth: 2
				}
			]
	    },
	    options: {
	    	legend: {
	            display: false
	        },
	        scales: {
	            yAxes: [{
	                ticks: {
	                    beginAtZero:true,
	            		max:5,
	            		stepSize: 1
	                }
	            }]
	        }
	    }
	});
	</script>
</body>

</html>
