<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>J4Business</title>

<link href="/saga/css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}" rel="stylesheet"></link>
<link href="/saga/css/styles.css" rel="stylesheet"></link>
<link
	href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic'
	rel='stylesheet' type='text/css'></link>
<script src="/js/jquery-3.2.1.min.js"
	th:src="@{/js/jquery-3.2.1.min.js}"></script>
<script src="/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.0/jquery.mask.js"></script>
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<style>
.glyphicon:hover {
	color: black;
}

.detalhe {
	color: #A9D9EC;
}

.edit {
	color: orange;
}

.remove {
	color: red;
}

.form-control {
	color: #B7B7B7;
}

.form-control:hover, .form-control:focus {
	color: #ffffff;
	border-color: #A9D9EC;
}
</style>
</head>

<body>

	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#sidebar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#"><span>Gestão e
						Aperfeiçoamento de Processos</span></a>
			</div>
		</div>
		<!-- /.container-fluid -->
	</nav>

	<div class="row">
		<div class="form-group col-md-7">
			<ol class="breadcrumb">
				<li><a href="/saga/index"><span
						class="glyphicon glyphicon-home"></span></a></li>
				<li class="active">Avaliação - Processo</li>
				<li class="active">Dashboard</li>
				<li class="active"
					th:text="${avaliacaoProcessoDashboard.getCenarioNome()}"></li>
				<li class="active"
					th:text="${avaliacaoProcessoForm.getProcessoNome()}"></li>
				<li class="active"
					th:text="${avaliacaoProcessoForm.getEstruturafisicaNome()}"></li>
				<li class="active"
					th:text="${avaliacaoProcessoForm.getUnidadeorganizacionalNome()}"></li>
			</ol>
		</div>
		<div class="form-group col-md-3">
			<ol class="breadcrumb">
				<li class="active">Usuário:</li>
				<li th:text="${usuarioNome}"></li>
				<li th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></li>
			</ol>
		</div>
		<div class="form-group col-md-2">
			<a
				th:href="@{/avaliacaoProcessoDashboardCenario/{avaliacaoProcessoPK}/{questionarioPK}/{processoPK}/{unidadeorganizacionalPK}/{estruturafisicaPK}
						    		(avaliacaoProcessoPK=${avaliacaoProcessoDashboard.getAvaliacaoProcessoPK()},
						    		 questionarioPK=${avaliacaoProcessoDashboard.getQuestionarioPK()},
						    		 processoPK=${avaliacaoProcessoDashboard.getProcessoPK()},
						    		 unidadeorganizacionalPK=${avaliacaoProcessoDashboard.getUnidadeorganizacionalPK()},
						    		 estruturafisicaPK=${avaliacaoProcessoDashboard.getEstruturafisicaPK()}		)}"
				style="float: right" class="btn btn-primary btn-xs margin">Voltar</a>
		</div>
	</div>

	<div class="row col-no-gutter-container"
		th:object="${avaliacaoProcessoDashboard}"
		style="background-color: lightgray">

		<input type="hidden" name="periodoAtual" id="periodoAtual"
			th:value="${avaliacaoProcessoDashboard.getAvaliacaoProcessoPeriodoAtual()}">
		<input type="hidden" name="periodoAnterior" id="periodoAnterior"
			th:value="${avaliacaoProcessoDashboard.getAvaliacaoProcessoPeriodoAnterior()}">

		<input type="hidden" name="elemento1" id="elemento1"
			th:value="${avaliacaoProcessoDashboard.getElemento1()}"> <input
			type="hidden" name="elemento2" id="elemento2"
			th:value="${avaliacaoProcessoDashboard.getElemento2()}"> <input
			type="hidden" name="elemento3" id="elemento3"
			th:value="${avaliacaoProcessoDashboard.getElemento3()}"> <input
			type="hidden" name="elemento4" id="elemento4"
			th:value="${avaliacaoProcessoDashboard.getElemento4()}"> <input
			type="hidden" name="elemento5" id="elemento5"
			th:value="${avaliacaoProcessoDashboard.getElemento5()}"> <input
			type="hidden" name="elemento6" id="elemento6"
			th:value="${avaliacaoProcessoDashboard.getElemento6()}"> <input
			type="hidden" name="elemento7" id="elemento7"
			th:value="${avaliacaoProcessoDashboard.getElemento7()}"> <input
			type="hidden" name="elemento8" id="elemento8"
			th:value="${avaliacaoProcessoDashboard.getElemento8()}"> <input
			type="hidden" name="elemento9" id="elemento9"
			th:value="${avaliacaoProcessoDashboard.getElemento9()}"> <input
			type="hidden" name="elemento10" id="elemento10"
			th:value="${avaliacaoProcessoDashboard.getElemento10()}"> <input
			type="hidden" name="elemento11" id="elemento11"
			th:value="${avaliacaoProcessoDashboard.getElemento11()}"> <input
			type="hidden" name="elemento12" id="elemento12"
			th:value="${avaliacaoProcessoDashboard.getElemento12()}"> <input
			type="hidden" name="elemento13" id="elemento13"
			th:value="${avaliacaoProcessoDashboard.getElemento13()}"> <input
			type="hidden" name="elemento14" id="elemento14"
			th:value="${avaliacaoProcessoDashboard.getElemento14()}"> <input
			type="hidden" name="elemento15" id="elemento15"
			th:value="${avaliacaoProcessoDashboard.getElemento15()}"> <input
			type="hidden" name="elemento16" id="elemento16"
			th:value="${avaliacaoProcessoDashboard.getElemento16()}"> <input
			type="hidden" name="elemento17" id="elemento17"
			th:value="${avaliacaoProcessoDashboard.getElemento17()}"> <input
			type="hidden" name="elemento18" id="elemento18"
			th:value="${avaliacaoProcessoDashboard.getElemento18()}"> <input
			type="hidden" name="elemento19" id="elemento19"
			th:value="${avaliacaoProcessoDashboard.getElemento19()}"> <input
			type="hidden" name="elemento20" id="elemento20"
			th:value="${avaliacaoProcessoDashboard.getElemento20()}">

		<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
			<div class="panel panel-blue panel-widget">
				<div class="row no-padding"
					style="background-color: rgba(60, 102, 135)">
					<div class="col-sm-3 col-lg-5 widget-left">
						<em class="glyphicon glyphicon-cog glyphicon-l"></em>
					</div>
					<div class="col-sm-9 col-lg-7 widget-right">
						<div class="large"
							th:text="${avaliacaoProcessoDashboard.getQuantidadeProcessos()}"></div>
						<div class="text-muted">Processos</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
			<div class="panel panel-orange panel-widget">
				<div class="row no-padding"
					style="background-color: rgba(60, 102, 135)">
					<div class="col-sm-3 col-lg-5 widget-left">
						<em class="glyphicon glyphicon-user glyphicon-l"></em>
					</div>
					<div class="col-sm-9 col-lg-7 widget-right">
						<div class="large"
							th:text="${avaliacaoProcessoDashboard.getQuantidadeColaboradores()}"></div>
						<div class="text-muted">Colaboradores</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
			<div class="panel panel-teal panel-widget">
				<div class="row no-padding"
					style="background-color: rgba(60, 102, 135)">
					<div class="col-sm-3 col-lg-5 widget-left">
						<em class="glyphicon glyphicon-list-alt glyphicon-l"></em>
					</div>
					<div class="col-sm-9 col-lg-7 widget-right">
						<div class="large"
							th:text="${avaliacaoProcessoDashboard.getQuantidadeQuestionarios()}"></div>
						<div class="text-muted">Questionários</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-md-6 col-lg-3 col-no-gutter">
			<div class="panel panel-red panel-widget">
				<div class="row no-padding"
					style="background-color: rgba(60, 102, 135)">
					<div class="col-sm-3 col-lg-5 widget-left">
						<em class="glyphicon glyphicon-question-sign glyphicon-l"></em>
					</div>
					<div class="col-sm-9 col-lg-7 widget-right">
						<div class="large"
							th:text="${avaliacaoProcessoDashboard.getQuantidadeQuestoes()}"></div>
						<div class="text-muted">Questões</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--/.row-->

	<div class="row row-no-gutter col-no-gutter-container row-margin-top">
		<div class="col-md-12 col-no-gutter">
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="canvas-wrapper">
						<canvas class="chart" id="bar-chart" height="200" width="600"
							style="background-color: lightblue"></canvas>
					</div>
				</div>
			</div>
		</div>
		<!--/.col-->

	</div>
	<!--/.row-->

	<script>
		var periodoAtual = document.getElementById('periodoAtual').value;
		var periodoAnterior = document.getElementById('periodoAnterior').value;

		var elemento1 = document.getElementById('elemento1').value;
		var elemento2 = document.getElementById('elemento2').value;
		var elemento3 = document.getElementById('elemento3').value;
		var elemento4 = document.getElementById('elemento4').value;
		var elemento5 = document.getElementById('elemento5').value;
		var elemento6 = document.getElementById('elemento6').value;
		var elemento7 = document.getElementById('elemento7').value;
		var elemento8 = document.getElementById('elemento8').value;
		var elemento9 = document.getElementById('elemento9').value;
		var elemento10 = document.getElementById('elemento10').value;

		var elemento11 = document.getElementById('elemento11').value;
		var elemento12 = document.getElementById('elemento12').value;
		var elemento13 = document.getElementById('elemento13').value;
		var elemento14 = document.getElementById('elemento14').value;
		var elemento15 = document.getElementById('elemento15').value;
		var elemento16 = document.getElementById('elemento16').value;
		var elemento17 = document.getElementById('elemento17').value;
		var elemento18 = document.getElementById('elemento18').value;
		var elemento19 = document.getElementById('elemento19').value;
		var elemento20 = document.getElementById('elemento20').value;

		var myData = [ elemento1, elemento2, elemento3, elemento4, elemento5 ];
		var myDataAnterior = [ elemento11, elemento12, elemento13, elemento14,
				elemento15 ];
		var myColors = [];
		var myColorsAnterior = [];
		var myBorders = [];
		var myBordersAnterior = [];

		$.each(myData, function(index, value) {

			if (value > 4) {
				myColors[index] = "rgba(0, 128, 255,0.5)";
			} else if (value > 3) {
				myColors[index] = "rgba(64, 255, 0,0.5)";
			} else if (value > 2) {
				myColors[index] = "rgba(255, 210, 77,0.8)";
			} else if (value > 1) {
				myColors[index] = "rgba(255, 255, 0,0.5)";
			} else {
				myColors[index] = "rgba(255, 0, 0,0.5)";
			}

			if (value == 5) {
				myBorders[index] = "rgba(0, 128, 255,1)";
			} else if (value == 4) {
				myBorders[index] = "rgba(64, 255, 0,1)";
			} else if (value == 3) {
				myBorders[index] = "rgba(255, 210, 77,1)";
			} else if (value == 2) {
				myBorders[index] = "rgba(255, 255, 0,1)";
			} else {
				myBorders[index] = "rgba(255, 0, 0,1)";
			}
		});

		$.each(myDataAnterior, function(index2, value2) {

			if (value2 > 4) {
				myColorsAnterior[index2] = "rgba(0, 128, 255,0.5)";
			} else if (value2 > 3) {
				myColorsAnterior[index2] = "rgba(64, 255, 0,0.5)";
			} else if (value2 > 2) {
				myColorsAnterior[index2] = "rgba(255, 210, 77,0.8)";
			} else if (value2 > 1) {
				myColorsAnterior[index2] = "rgba(255, 255, 0,0.5)";
			} else {
				myColorsAnterior[index2] = "rgba(255, 0, 0,0.5)";
			}

			if (value2 == 5) {
				myBordersAnterior[index2] = "rgba(0, 128, 255,1)";
			} else if (value2 == 4) {
				myBordersAnterior[index2] = "rgba(64, 255, 0,1)";
			} else if (value2 == 3) {
				myBordersAnterior[index2] = "rgba(255, 210, 77,1)";
			} else if (value2 == 2) {
				myBordersAnterior[index2] = "rgba(255, 255, 0,1)";
			} else {
				myBordersAnterior[index2] = "rgba(255, 0, 0,1)";
			}
		});

		var ctx = document.getElementById('bar-chart').getContext('2d');
		var chart = new Chart(ctx, {
			// The type of chart we want to create
			type : 'bar',

			// The data for our dataset
			data : {
				labels : [ "Nº Clientes", "Nº REclamações", "Desempenho01",
						"Desempenho02", "Desempenho03" ],
				datasets : [ {
					label : periodoAnterior,
					backgroundColor : myColorsAnterior,
					data : myDataAnterior,
					borderColor : myBordersAnterior,
					borderWidth : 2
				}, {
					label : periodoAtual,
					backgroundColor : myColors,
					data : myData,
					borderColor : myBorders,
					borderWidth : 2
				} ]
			},
			options : {
				legend : {
					display : false
				},
				scales : {
					yAxes : [ {
						ticks : {
							beginAtZero : true,
							max : 5,
							stepSize : 1
						}
					} ]
				}
			}
		});
	</script>
</body>

</html>
